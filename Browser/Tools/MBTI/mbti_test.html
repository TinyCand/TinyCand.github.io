<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MBTI Test</title>
    <style>
        :root {
            --bg-gradient-start: #f9d5e5;
            --bg-gradient-end: #d6eaf8;
            --card-bg: rgba(255, 255, 255, 0.8);
            --card-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            --button-bg: #f8bbd0;
            --button-hover: #f48fb1;
            --progress-default: #e0e0e0;
            --progress-completed: #ff9a9a;
            --result-bg-start: #ffd180;
            --result-bg-end: #81d4fa;
            --border-radius: 15px;
        }

        body {
            font-family: 'Comic Sans MS', sans-serif;
            background: linear-gradient(to bottom, var(--bg-gradient-start), var(--bg-gradient-end));
            margin: 0;
            padding: 0;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 100vh;
            /* å§‹ç»ˆæ˜¾ç¤ºæ»šåŠ¨æ¡ï¼Œé¿å…æ»šåŠ¨æ¡å‡ºç°å’Œæ¶ˆå¤±å¯¼è‡´çš„å¸ƒå±€å˜åŒ– */
            overflow-y: scroll; 
        }

        h1 {
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.2);
            margin-bottom: 20px;
        }

        #progress-bar {
            width: 80%;
            max-width: 600px;
            background-color: var(--progress-default);
            border-radius: var(--border-radius);
            margin-bottom: 20px;
            overflow: hidden;
        }

        #progress {
            width: 0%;
            height: 30px;
            background-color: var(--progress-completed);
            border-radius: var(--border-radius);
            transition: width 0.3s ease;
        }

        #question-card {
            background-color: var(--card-bg);
            box-shadow: var(--card-shadow);
            border-radius: var(--border-radius);
            padding: 40px;
            width: 80%;
            max-width: 600px;
            text-align: center;
            margin-bottom: 20px;
            position: relative;
        }

        #progress-text {
            position: absolute;
            top: 10px;
            left: 50%;
            transform: translateX(-50%);
            font-size: 13px;
        }

        .option {
            background-color: var(--button-bg);
            border: none;
            border-radius: var(--border-radius);
            padding: 15px 30px;
            margin: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .option:active {
            transform: scale(0.95);
        }

        #result {
            display: none;
            background: linear-gradient(to bottom, var(--result-bg-start), var(--result-bg-end));
            border-radius: 30px;
            padding: 40px;
            width: 80%;
            max-width: 600px;
            text-align: center;
            font-family: 'Microsoft YaHei', sans-serif;
        }

        #restart {
            background-color: var(--button-bg);
            border: none;
            border-radius: var(--border-radius);
            padding: 15px 30px;
            margin-top: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        #restart:active {
            transform: scale(0.95);
        }

        .firework {
            position: absolute;
            width: 10px;
            height: 10px;
            border-radius: 50%;
            animation: firework 1s ease-out infinite;
        }

        @keyframes firework {
            0% {
                transform: scale(0);
                opacity: 1;
            }
            100% {
                transform: scale(10);
                opacity: 0;
            }
        }
    </style>
</head>

<body>
    <h1>MBTI Test</h1>
    <div id="progress-bar">
        <div id="progress"></div>
    </div>
    <div id="question-card">
        <div id="progress-text">0/15</div>
        <p id="question"></p>
        <button class="option" id="option1" onclick="selectOption(0)"></button>
        <button class="option" id="option2" onclick="selectOption(1)"></button>
    </div>
    <div id="result">
        <h2 id="result-title"></h2>
        <p id="result-description"></p>
        <button id="restart" onclick="restartTest()">Try Again</button>
    </div>

    <script>
        const questions = [
            {
                // å½“ä½ å‚åŠ ç¤¾äº¤æ´»åŠ¨æ—¶ï¼Œä½ é€šå¸¸æ˜¯ï¼Ÿ
                question: "When you attend social events, you usually:",
                options: ["Initiate conversations and make new friends actively", "Prefer to stay with familiar people"],
                answer: null
            },
            {
                // åœ¨åšå†³ç­–æ—¶ï¼Œä½ æ›´å€¾å‘äºï¼Ÿ
                question: "When making decisions, you tend to:",
                options: ["Rely on your own thinking and judgment", "Seek others' opinions and suggestions"],
                answer: null
            },
            {
                // ä½ æ›´å–œæ¬¢å“ªç§ç±»å‹çš„ç”µå½±ï¼Ÿ
                question: "Which type of movies do you prefer?",
                options: ["Action and adventure movies", "Emotional and dramatic movies"],
                answer: null
            },
            {
                // å½“ä½ é¢å¯¹å‹åŠ›æ—¶ï¼Œä½ ä¼šï¼Ÿ
                question: "When you face stress, you will:",
                options: ["Actively look for solutions", "Need some time alone to adjust"],
                answer: null
            },
            {
                // ä½ åœ¨å­¦ä¹ æ–°äº‹ç‰©æ—¶ï¼Œæ›´å€¾å‘äºï¼Ÿ
                question: "When learning new things, you tend to:",
                options: ["Learn through practice", "Learn theories first and then practice"],
                answer: null
            },
            {
                // ä½ æ›´å–œæ¬¢å’Œä»€ä¹ˆæ ·çš„äººä¸€èµ·å·¥ä½œï¼Ÿ
                question: "Who do you prefer to work with?",
                options: ["People full of energy and creativity", "Steady and reliable people"],
                answer: null
            },
            {
                // ä½ æ›´æ³¨é‡ç”Ÿæ´»ä¸­çš„ï¼Ÿ
                question: "What do you pay more attention to in life?",
                options: ["Fresh and exciting experiences", "Stability and security"],
                answer: null
            },
            {
                // åœ¨å›¢é˜Ÿä¸­ï¼Œä½ é€šå¸¸æ‰®æ¼”çš„è§’è‰²æ˜¯ï¼Ÿ
                question: "In a team, what role do you usually play?",
                options: ["Leader", "Supporter"],
                answer: null
            },
            {
                // ä½ æ›´å–œæ¬¢å“ªç§ä¼‘é—²æ–¹å¼ï¼Ÿ
                question: "Which leisure activity do you prefer?",
                options: ["Outdoor sports", "Reading books or watching TV at home"],
                answer: null
            },
            {
                // å½“ä½ æœ‰ä¸€ä¸ªæƒ³æ³•æ—¶ï¼Œä½ ä¼šï¼Ÿ
                question: "When you have an idea, you will:",
                options: ["Take action immediately", "Plan well before taking action"],
                answer: null
            },
            {
                // ä½ åœ¨ç©ºé—²æ—¶é—´ï¼Œæ›´æ„¿æ„ï¼Ÿ
                question: "In your free time, you prefer to:",
                options: ["Attend social gatherings", "Stay alone and think"],
                answer: null
            },
            {
                // é¢å¯¹é—®é¢˜æ—¶ï¼Œä½ æ›´çœ‹é‡ï¼Ÿ
                question: "When facing problems, what do you value more?",
                options: ["Objective facts and logic", "Others' feelings and relationships"],
                answer: null
            },
            {
                // ä½ å–œæ¬¢æå‰è§„åˆ’è¡Œç¨‹å—ï¼Ÿ
                question: "Do you like to plan your itinerary in advance?",
                options: ["Very much. I feel secure with a plan", "No, I prefer to be spontaneous"],
                answer: null
            },
            {
                // ä½ åœ¨ä¸äººäº¤æµæ—¶ï¼Œæ›´å€¾å‘äºï¼Ÿ
                question: "When communicating with others, you tend to:",
                options: ["Express your own opinions and ideas", "Listen to others' opinions and stories"],
                answer: null
            },
            {
                // ä½ æ›´å–œæ¬¢æ¢ç´¢æœªçŸ¥é¢†åŸŸï¼Œè¿˜æ˜¯å·©å›ºå·²çŸ¥çŸ¥è¯†ï¼Ÿ
                question: "Do you prefer to explore unknown fields or consolidate known knowledge?",
                options: ["Explore unknown fields", "Consolidate known knowledge"],
                answer: null
            }
        ];

        let currentQuestionIndex = 0;

        // æ˜¾ç¤ºå½“å‰é—®é¢˜
        function showQuestion() {
            const questionElement = document.getElementById('question');
            const option1Element = document.getElementById('option1');
            const option2Element = document.getElementById('option2');
            const progressTextElement = document.getElementById('progress-text');
            const progressElement = document.getElementById('progress');

            const currentQuestion = questions[currentQuestionIndex];
            questionElement.textContent = currentQuestion.question;
            option1Element.textContent = currentQuestion.options[0];
            option2Element.textContent = currentQuestion.options[1];

            const progress = ((currentQuestionIndex + 1) / questions.length) * 100;
            progressElement.style.width = `${progress}%`;
            progressTextElement.textContent = `${currentQuestionIndex + 1}/${questions.length}`;
        }

        // é€‰æ‹©é€‰é¡¹
        function selectOption(optionIndex) {
            questions[currentQuestionIndex].answer = optionIndex;
            currentQuestionIndex++;
            if (currentQuestionIndex < questions.length) {
                showQuestion();
            } else {
                document.getElementById('progress-text').style.display = 'none';
                calculateResult();
            }
        }

        // è®¡ç®—æµ‹è¯•ç»“æœ
        function calculateResult() {
            let eCount = 0;
            let nCount = 0;
            let tCount = 0;
            let jCount = 0;

            // è®¡åˆ†é€»è¾‘ç¤ºä¾‹ï¼Œå¯æŒ‰éœ€è°ƒæ•´
            for (let i = 0; i < questions.length; i++) {
                if (i === 0 && questions[i].answer === 0) eCount++;
                if (i === 1 && questions[i].answer === 0) nCount++;
                if (i === 2 && questions[i].answer === 0) tCount++;
                if (i === 3 && questions[i].answer === 0) jCount++;
            }

            const e = eCount > 0? 'E' : 'I';
            const n = nCount > 0? 'N' : 'S';
            const t = tCount > 0? 'T' : 'F';
            const j = jCount > 0? 'J' : 'P';

            const resultType = e + n + t + j;
            let resultDescription = '';

            switch (resultType) {
                case 'ENTJ':
                    resultDescription = 'You are a natural leaderğŸ‘, with excellent organizational and decision - making abilities, leading the team to charge forward! People with the ENTJ type are enthusiastic and extroverted, like to interact with others, are creative and decisive, good at planning and organizing, and can clearly express their ideas and goals.';
                    break;
                case 'ENFP':
                    resultDescription = 'You are like a little sunğŸ˜œ, enthusiastic and creative, bringing joy wherever you go! People with the ENFP type are optimistic and cheerful, full of curiosity and imagination, like to communicate and share with others, have strong charisma and affinity, and are passionate about new things.';
                    break;
                case 'INFP':
                    resultDescription = 'You are soft - hearted and romanticğŸ¤—, full of compassion and imagination, a poet in life! People with the INFP type are sensitive and empathetic, focus on the inner world and personal values, like to explore human nature and philosophical issues, and are rich in creativity and artistic talent.';
                    break;
                case 'ISTJ':
                    resultDescription = 'You are steady and reliableğŸ‘Œ, pay attention to details and order, and are the backbone of the team! People with the ISTJ type are rigorous and responsible, like to follow rules and traditions, pay attention to practical effects and details, and are trustworthy partners.';
                    break;
                default:
                    resultDescription = `Your MBTI type is ${resultType}âœ¨, unique and charming! Each MBTI type has its own characteristics and advantages. You can learn more about your type and discover more possibilities.`;
            }

            showResult(resultType, resultDescription);
        }

        // æ˜¾ç¤ºæµ‹è¯•ç»“æœ
        function showResult(resultType, resultDescription) {
            const questionCard = document.getElementById('question-card');
            const resultElement = document.getElementById('result');
            const resultTitle = document.getElementById('result-title');
            const resultDescriptionElement = document.getElementById('result-description');

            questionCard.style.display = 'none';
            resultElement.style.display = 'block';
            resultTitle.textContent = resultType;
            resultDescriptionElement.textContent = resultDescription;

            createFireworks();
        }

        // åˆ›å»ºçƒŸèŠ±æ•ˆæœ
        function createFireworks() {
            const numFireworks = 50;
            for (let i = 0; i < numFireworks; i++) {
                const firework = document.createElement('div');
                firework.classList.add('firework');
                firework.style.left = `${Math.random() * window.innerWidth}px`;
                firework.style.top = `${Math.random() * window.innerHeight}px`;
                const colors = ['#ff69b4', '#ffff00', '#00bfff'];
                firework.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
                document.body.appendChild(firework);
            }
        }

        // é‡æ–°å¼€å§‹æµ‹è¯•
        function restartTest() {
            currentQuestionIndex = 0;
            for (let i = 0; i < questions.length; i++) {
                questions[i].answer = null;
            }
            const questionCard = document.getElementById('question-card');
            const resultElement = document.getElementById('result');
            const fireworks = document.querySelectorAll('.firework');
            document.getElementById('progress-text').style.display = 'block';

            fireworks.forEach(firework => firework.remove());
            questionCard.style.display = 'block';
            resultElement.style.display = 'none';
            showQuestion();
        }

        showQuestion();
    </script>
</body>

</html>    